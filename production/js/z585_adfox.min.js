var Countdown={$el:$(".js-countdown-header"),countdown_interval:null,total_seconds:0,init:function(){var e,t,s,n=new Date,i=new Date(this.$el.data("date")),o=i-n;o=(o-o%1e3)/1e3,o=(o-(e=o%60))/60,o=(o-(t=o%60))/60,s=o%24,this.$={hours:this.$el.find(".bloc-time.hours .figure"),minutes:this.$el.find(".bloc-time.min .figure"),seconds:this.$el.find(".bloc-time.sec .figure")},this.total_seconds=(i-n)/1e3,this.values={hours:s,minutes:t,seconds:e},this.count()},count:function(){var e=this,t=this.$.hours.eq(0),s=this.$.hours.eq(1),n=this.$.minutes.eq(0),i=this.$.minutes.eq(1),o=this.$.seconds.eq(0),a=this.$.seconds.eq(1);this.countdown_interval=setInterval(function(){e.total_seconds>0?(--e.values.seconds,e.values.minutes>=0&&e.values.seconds<0&&(e.values.seconds=59,--e.values.minutes),e.values.hours>=0&&e.values.minutes<0&&(e.values.minutes=59,--e.values.hours),e.checkHour(e.values.hours,t,s),e.checkHour(e.values.minutes,n,i),e.checkHour(e.values.seconds,o,a),--e.total_seconds):e.$el.parent().css({display:"none"})},1e3)},animateFigure:function(e,t){var s=e.find(".top"),n=e.find(".bottom"),i=e.find(".top-back"),o=e.find(".bottom-back");i.find("span").html(t),o.find("span").html(t),TweenMax.to(s,.8,{rotationX:"-180deg",transformPerspective:300,ease:Quart.easeOut,onComplete:function(){s.html(t),n.html(t),TweenMax.set(s,{rotationX:0})}}),TweenMax.to(i,.8,{rotationX:0,transformPerspective:300,ease:Quart.easeOut,clearProps:"all"})},checkHour:function(e,t,s){var n=e.toString().charAt(0),i=e.toString().charAt(1),o=t.find(".top").html(),a=s.find(".top").html();e>=10?(o!==n&&this.animateFigure(t,n),a!==i&&this.animateFigure(s,i)):("0"!==o&&this.animateFigure(t,0),a!==n&&this.animateFigure(s,n))}};Countdown.init();